=========================
ğŸš€ Security Assistant â€“ Quick Run Guide
=========================

This is a full-stack chatbot built with:
- Frontend: Next.js 15 + Tailwind + shadcn/ui
- Backend: Node.js + Express + Google Gemini API + optional RAG
- Deployed: Frontend on Vercel, Backend on Fly.io
- Tests: Unit + Playwright E2E smoke test

-------------------------------------------------
1. Install Everything (from repo root)
-------------------------------------------------
make install

-------------------------------------------------
2. Run Both Services Locally
-------------------------------------------------
make dev    # runs backend on :8080 and frontend on :3000

Open http://localhost:3000 and click the chat button.

-------------------------------------------------
3. Environment Variables
-------------------------------------------------
Frontend: NEXT_PUBLIC_API_URL=http://localhost:8080
Backend:
  GEMINI_API_KEY=your-google-api-key
  GEMINI_MODEL=gemini-1.5-flash
  ALLOWED_ORIGIN=http://localhost:3000
  ENABLE_RAG=true
  RAG_DEBUG=false

-------------------------------------------------
4. Run Tests
-------------------------------------------------
Unit tests:
  make test-frontend
  make test-backend

End-to-end smoke test:
  npx playwright install   # once
  npx playwright test tests/e2e-smoke.spec.ts

-------------------------------------------------
5. Deploy
-------------------------------------------------
Frontend:
  Push frontend folder to GitHub and connect to Vercel.

Backend:
  flyctl launch
  flyctl secrets set GEMINI_API_KEY=xxx GEMINI_MODEL=gemini-1.5-flash ALLOWED_ORIGIN=https://your-vercel-url
  flyctl deploy --remote-only

Backend will be at: https://<your-app>.fly.dev

-------------------------------------------------
6. Playwright Smoke Test vs Production
-------------------------------------------------
Edit tests/e2e-smoke.spec.ts to use your deployed URLs and run:
  npx playwright test tests/e2e-smoke.spec.ts

Youâ€™ll see the widget open, send a message and get a real reply.

=========================
Thatâ€™s it! Reviewers can follow these steps to run and verify everything.
=========================


                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                 Frontend (Vercel)               â”‚
                â”‚  Next.js 15 + Tailwind + shadcn/ui               â”‚
                â”‚  Floating Chat Widget (open/close, bubbles)      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚  HTTPS POST /api/chat
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚              Backend (Fly.io)                   â”‚
                â”‚  Node.js + Express + Pino + Helmet + CORS        â”‚
                â”‚  Session store (in-memory)                      â”‚
                â”‚  Rate limiting (express-rate-limit)             â”‚
                â”‚                                                 â”‚
                â”‚ Routes:                                         â”‚
                â”‚   GET /health  â€“ health check                   â”‚
                â”‚   GET /version â€“ version info                   â”‚
                â”‚   POST /api/chat â€“ Gemini + RAG reply           â”‚
                â”‚   GET /api/rag/search â€“ OWASP CSV search (bonus)â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ calls Google API
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚         Google Gemini API (free tier)            â”‚
                â”‚  Generates main chatbot responses                â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚  augmented with context from
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚    OWASP CSV / MiniSearch Index (in backend)     â”‚
                â”‚  Query userâ€™s message and provide relevant Q&A   â”‚
                â”‚  RAG context injected into Gemini prompt         â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
